{"version":3,"sources":["App.js","index.js"],"names":["MySlider","settings","autoplay","dots","infinite","speed","autoplayspeed","slidesToShow","slidesToScroll","interval","state","photos","gettingPhotos","getPhotos","urlParams","URLSearchParams","window","location","search","refresh","has","get","console","log","setState","fetch","then","response","json","catch","error","clearInterval","setInterval","this","map","photo","url","sender","urlType","receivedAt","Date","toLocaleTimeString","timeZone","slideStyle","width","height","maxWidth","maxHeight","marginTop","transform","style","textAlign","fontSize","startsWith","src","alt","autoPlay","muted","type","divFromPhoto","React","Component","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4MA2CMA,E,4MAEJC,SAAW,CACTC,UAAU,EACVC,MAAM,EACNC,UAAU,EACVC,MAAO,KACPC,cAAe,KACfC,aAAc,EACdC,eAAgB,G,EAGlBC,SAAW,K,EAEXC,MAAQ,CACNC,OAAQ,KACRC,eAAe,G,EAGjBC,UAAY,WACV,IAAMC,EAAY,IAAIC,gBAAgBC,OAAOC,SAASC,QAChDC,EAAUL,EAAUM,IAAI,WAAaN,EAAUO,IAAI,WAAa,KACtEC,QAAQC,IAAI,qBACP,EAAKb,MAAME,eAAiB,EAAKY,SAAS,CAACZ,eAAe,IAC/Da,MAAM,+EACHC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GAAQ,OAAI,EAAKH,SAAS,CAC9Bb,OAAQgB,EACRf,eAAe,OAEhBiB,OAAM,SAAAC,GAAK,OAAIR,QAAQC,IAAI,OAAQO,MAClC,EAAKrB,UAAYsB,cAAc,EAAKtB,UACxC,EAAKA,SAAWuB,aAAY,kBAAM,EAAKnB,cAAaM,I,uDAGtD,WACEc,KAAKpB,c,oBAGP,WACE,OAAKoB,KAAKvB,MAAMC,QAAUsB,KAAKvB,MAAME,cAC5B,kDAGL,cAAC,IAAD,2BAAYqB,KAAKhC,UAAjB,aACIgC,KAAKvB,MAAMC,OAAOuB,KAAI,SAAAC,GAAK,OArFlB,SAACA,GACpB,IAAMC,EAAMD,EAAMC,IAChBC,EAASF,EAAME,OACfC,EAAUH,EAAMG,QAChBC,EAAa,IAAIC,KAAKL,EAAMI,YACzBE,mBAAmB,QAAS,CAAEC,SAAU,qBAC3CC,EAAa,CACXC,MAAO,OACPC,OAAQ,OACRC,SAAU,OACVC,UAAW,OACXC,UAAW,OACXC,UAAW,2BAMb,OACE,gCACE,sBAA8BC,MAPnB,CACbC,UAAW,SACXC,SAAU,QAKR,UACG,4BAAIf,IADP,aAC0BE,KADhB,UAAYF,GAGpBC,EAAQe,WAAW,UACnB,qBACEC,IAAKlB,EAELmB,IAAK,OAASnB,EACdc,MAAOP,GAFFP,GAKP,uBAAOoB,UAAQ,EAACC,OAAK,EAACP,MAAOP,EAA7B,SACI,wBAAQW,IAAKlB,EAAKsB,KAAMpB,QAbtB,OAASF,GAkEkBuB,CAAaxB,a,GA7CjCyB,IAAMC,WA0DdC,MAJf,WACE,OAAO,cAAC,EAAD,KC9FTC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f48af3c5.chunk.js","sourcesContent":["import React from 'react';\nimport Slider from 'react-slick';\n\nconst divFromPhoto = (photo) => {\n  const url = photo.url,\n    sender = photo.sender,\n    urlType = photo.urlType,\n    receivedAt = new Date(photo.receivedAt)\n      .toLocaleTimeString('en-US', { timeZone: 'America/New_York' }),\n    slideStyle = {\n      width: '31vw',\n      height: 'auto',\n      maxWidth: '31vw',\n      maxHeight: '91vh',\n      marginTop: '50vh',\n      transform: 'translate3d(0, -50%, 0)'\n    }, textStyle = {\n      textAlign: 'center',\n      fontSize: '24px'\n    };\n\n    return (\n      <div key={'div_' + url}>\n        <div key={'sender_' + sender} style={textStyle}>\n          {<b>{sender}</b>}{` @ ${receivedAt}`}\n        </div>\n        { urlType.startsWith('image/') ?\n          <img\n            src={url}\n            key={url}\n            alt={'alt_' + url}\n            style={slideStyle}\n          />\n          :\n          <video autoPlay muted style={slideStyle}>\n              <source src={url} type={urlType} />\n          </video>\n        }\n      </div>\n    );\n};\n\n\nclass MySlider extends React.Component {\n\n  settings = { // https://react-slick.neostack.com/docs/api/\n    autoplay: true,\n    dots: false,\n    infinite: true,\n    speed: 5500,\n    autoplayspeed: 1500,\n    slidesToShow: 3,\n    slidesToScroll: 1\n  };\n\n  interval = null;\n\n  state = {\n    photos: null,\n    gettingPhotos: true\n  };\n\n  getPhotos = () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const refresh = urlParams.has('refresh') ? urlParams.get('refresh') : 150000000; // 1500000 = every 25 mins\n    console.log('getting photos...');\n    if (!this.state.gettingPhotos) { this.setState({gettingPhotos: true}) };\n    fetch('https://y5gfm8ypt6.execute-api.us-east-1.amazonaws.com/default/weddingPhoto')\n      .then(response => response.json())\n      .then(response => this.setState({\n        photos: response,\n        gettingPhotos: false\n      }))\n      .catch(error => console.log('e >>', error));\n    if (this.interval) { clearInterval(this.interval) };\n    this.interval = setInterval(() => this.getPhotos(), refresh);\n  };\n\n  componentDidMount(){\n    this.getPhotos();\n  };\n\n  render() {\n    if (!this.state.photos || this.state.gettingPhotos) {\n      return <p>Getting photos...</p>\n    } else {\n      return (\n        <Slider {...this.settings}>\n          { this.state.photos.map(photo => divFromPhoto(photo)) }\n        </Slider>\n      );\n    }; \n  };\n\n};\n\n\nfunction App() {\n  return <MySlider />\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}