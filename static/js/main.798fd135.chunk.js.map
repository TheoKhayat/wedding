{"version":3,"sources":["constants.js","Slideshow.js","App.js","index.js"],"names":["BASE_URL","SLIDE_SETTINGS","autoplay","autoplayspeed","dots","infinite","slidesToShow","speed","swipeToSlide","SLIDE_STYLE","width","height","maxWidth","maxHeight","marginTop","transform","HEADER_STYLE","textAlign","fontSize","backgroundColor","TEXT_STYLE","TIMEZONES","est","cst","mst","pst","Slides","urlParams","URLSearchParams","window","location","search","refresh","has","get","occasion","timezone","labels","interval","state","eventTitle","photos","gettingPhotos","getPhotos","setState","fetch","constants","then","response","json","title","reverse","catch","error","console","log","clearInterval","setInterval","this","document","style","map","photo","url","sender","urlType","receivedAt","Date","toLocaleTimeString","timeZone","startsWith","src","alt","autoPlay","muted","type","divFromPhoto","React","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"qMAAaA,EAAW,8EAEXC,EAAiB,CAC5BC,UAAU,EACVC,cAAe,KACfC,MAAM,EACNC,UAAU,EAEVC,aAAc,EACdC,MAAO,KACPC,cAAc,GAGHC,EAAc,CACzBC,MAAO,OACPC,OAAQ,OACRC,SAAU,OACVC,UAAW,OACXC,UAAW,OACXC,UAAW,2BAGAC,EAAe,CAC1BC,UAAW,SACXC,SAAU,OACVC,gBAAiB,OACjBT,MAAO,SAGIU,EAAa,CACxBH,UAAW,SACXC,SAAU,QAGCG,EAAY,CACvBC,IAAK,mBACLC,IAAK,kBACLC,IAAK,aACLC,IAAK,uB,OCHDC,E,4MACJC,UAAY,IAAIC,gBAAgBC,OAAOC,SAASC,Q,EAChDC,QAAU,EAAKL,UAAUM,IAAI,WAAa,EAAKN,UAAUO,IAAI,WAAa,I,EAC1EC,SAAW,EAAKR,UAAUM,IAAI,YAAc,EAAKN,UAAUO,IAAI,YAAc,c,EAC7EE,SAAW,EAAKT,UAAUM,IAAI,MAAQ,EAAKN,UAAUO,IAAI,MAAQ,M,EACjEG,QAAS,EAAKV,UAAUM,IAAI,WAA6C,SAAjC,EAAKN,UAAUO,IAAI,U,EAI3DI,SAAW,K,EAEXC,MAAQ,CACNC,WAAY,KACZC,OAAQ,KACRC,eAAe,G,EAGjBC,UAAY,WAEL,EAAKJ,MAAMG,eAAiB,EAAKE,SAAS,CAACF,eAAe,IAC/DG,MAAMC,EAAqB,aAAe,EAAKX,UAC5CY,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GAAQ,OAAI,EAAKJ,SAAS,CAC9BJ,WAAYQ,EAASE,MACrBT,OAAQO,EAASP,OAAOU,UACxBT,eAAe,OAEhBU,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,WAAYF,MACtC,EAAKf,UAAYkB,cAAc,EAAKlB,UACxC,EAAKA,SAAWmB,aAAY,kBAAM,EAAKd,cAA0B,GAAb,EAAKX,QAAW,M,uDAGtE,WACE0B,KAAKf,c,oBAGP,WAAU,IAAD,OAEP,OADAgB,SAAST,MAAQQ,KAAKnB,MAAMC,WAAX,UAA2BkB,KAAKnB,MAAMC,WAAtC,mBAAoE,gBAChFkB,KAAKnB,MAAME,QAAUiB,KAAKnB,MAAMG,cAC5B,kDAGL,qCACIgB,KAAKnB,MAAMC,YACX,oBAAIoB,MAAOd,EAAX,SAAoCY,KAAKnB,MAAMC,aAEjD,cAAC,IAAD,2BAAYM,GAAZ,aACIY,KAAKnB,MAAME,OAAOoB,KAAI,SAAAC,GAAK,OA9EpB,SAACA,EAAO1B,EAAUC,GACrC,IAAM0B,EAAMD,EAAMC,IAChBC,EAASF,EAAME,OACfC,EAAUH,EAAMG,QAChBC,EAAa,IAAIC,KAAKL,EAAMI,YACzBE,mBAAmB,QAAS,CAAEC,SAAUvB,EAAoBV,KAE/D,OACE,gCACIC,GACA,sBAA8BuB,MAAOd,EAArC,UACG,4BAAIkB,IADP,aAC0BE,KADhB,UAAYF,GAItBC,EAAQK,WAAW,UACnB,qBACEC,IAAKR,EAELS,IAAK,OAAST,EACdH,MAAOd,GAFFiB,GAKP,uBAAOU,UAAQ,EAACC,OAAK,EAACd,MAAOd,EAA7B,SACI,wBAAQyB,IAAKR,EAAKY,KAAMV,QAftB,OAASF,GAsEoBa,CAAad,EAAO,EAAK1B,SAAU,EAAKC,qB,GA/ChEwC,IAAMC,WAwDZpD,ICnFAqD,MAJf,WACE,OAAO,cAAC,EAAD,KCDTC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFvB,SAASwB,eAAe,W","file":"static/js/main.798fd135.chunk.js","sourcesContent":["export const BASE_URL = 'https://y5gfm8ypt6.execute-api.us-east-1.amazonaws.com/default/weddingPhoto';\n\nexport const SLIDE_SETTINGS = { // https://react-slick.neostack.com/docs/api/\n  autoplay: true,\n  autoplayspeed: 1500,\n  dots: false,\n  infinite: true,\n  // slidesToScroll: 1,\n  slidesToShow: 3,\n  speed: 5500,\n  swipeToSlide: true\n};\n\nexport const SLIDE_STYLE = {\n  width: '31vw',\n  height: 'auto',\n  maxWidth: '31vw',\n  maxHeight: '91vh',\n  marginTop: '50vh',\n  transform: 'translate3d(0, -50%, 0)'\n};\n\nexport const HEADER_STYLE = {\n  textAlign: 'center',\n  fontSize: '24px',\n  backgroundColor: 'pink',\n  width: '100vw'\n};\n\nexport const TEXT_STYLE = {\n  textAlign: 'center',\n  fontSize: '24px'\n};\n\nexport const TIMEZONES = {\n  est: 'America/New_York',\n  cst: 'America/Chicago',\n  mst: 'US/Arizona',\n  pst: 'America/Los_Angeles'\n};\n","import React from 'react';\nimport Slider from 'react-slick';\nimport * as constants from './constants';\n\nconst divFromPhoto = (photo, timezone, labels) => {\n  const url = photo.url,\n    sender = photo.sender,\n    urlType = photo.urlType,\n    receivedAt = new Date(photo.receivedAt)\n      .toLocaleTimeString('en-US', { timeZone: constants.TIMEZONES[timezone] });\n\n    return (\n      <div key={'div_' + url}>\n        { labels && \n          <div key={'sender_' + sender} style={constants.TEXT_STYLE}>\n            {<b>{sender}</b>}{` @ ${receivedAt}`}\n          </div>\n        }\n        { urlType.startsWith('image/') ?\n          <img\n            src={url}\n            key={url}\n            alt={'alt_' + url}\n            style={constants.SLIDE_STYLE}\n          />\n          :\n          <video autoPlay muted style={constants.SLIDE_STYLE}>\n              <source src={url} type={urlType} />\n          </video>\n        }\n      </div>\n    );\n};\n\n\nclass Slides extends React.Component {\n  urlParams = new URLSearchParams(window.location.search);\n  refresh = this.urlParams.has('refresh') ? this.urlParams.get('refresh') : 300; // refresh mins\n  occasion = this.urlParams.has('occasion') ? this.urlParams.get('occasion') : 'khayat-motz';\n  timezone = this.urlParams.has('tz') ? this.urlParams.get('tz') : 'est';\n  labels = this.urlParams.has('labels') ? this.urlParams.get('labels') !== \"none\" : true;\n  // maybe need header\n  // maybe need key\n\n  interval = null;\n\n  state = {\n    eventTitle: null,\n    photos: null,\n    gettingPhotos: true\n  };\n\n  getPhotos = () => {\n\n    if (!this.state.gettingPhotos) { this.setState({gettingPhotos: true}) };\n    fetch(constants.BASE_URL + '?occasion=' + this.occasion)\n      .then(response => response.json())\n      .then(response => this.setState({\n        eventTitle: response.title,\n        photos: response.photos.reverse(), //  for newest to oldest\n        gettingPhotos: false\n      }))\n      .catch(error => console.log('error >>', error));\n    if (this.interval) { clearInterval(this.interval) };\n    this.interval = setInterval(() => this.getPhotos(), this.refresh*60*1000);\n  };\n\n  componentDidMount(){\n    this.getPhotos();\n  };\n\n  render() {\n    document.title = this.state.eventTitle ? `${this.state.eventTitle} | Captured.Day` : \"Captured.Day\";\n    if (!this.state.photos || this.state.gettingPhotos) {\n      return <p>Getting photos...</p>\n    } else {\n      return (\n        <>\n          { this.state.eventTitle &&\n            <h4 style={constants.HEADER_STYLE}>{this.state.eventTitle}</h4>\n          }\n          <Slider {...constants.SLIDE_SETTINGS}>\n            { this.state.photos.map(photo => divFromPhoto(photo, this.timezone, this.labels)) }\n          </Slider>\n        </>\n      );\n    }; \n  };\n\n};\n\nexport default Slides;\n","import React from 'react';\n// import { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Slides from './Slideshow';\n\nfunction App() {\n  return <Slides />\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}