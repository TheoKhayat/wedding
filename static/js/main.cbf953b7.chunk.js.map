{"version":3,"sources":["constants.js","Slideshow.js","App.js","index.js"],"names":["BASE_URL","SLIDE_SETTINGS","autoplay","autoplayspeed","dots","infinite","pauseOnHover","slidesToShow","speed","swipeToSlide","SLIDE_STYLE","borderRadius","width","height","maxWidth","maxHeight","marginTop","transform","HEADER_STYLE","backgroundColor","color","fontFamily","fontSize","fontStyle","textAlign","paddingLeft","paddingTop","TEXT_STYLE","GALLERY_STYLE","justifyContent","overflowX","marginBottom","GALLERY_IMG_STYLE","TO_UPLOADER_STYLE","border","TIMEZONES","est","cst","mst","pst","hst","Slides","urlParams","URLSearchParams","window","location","search","refresh","has","get","occasion","timezone","labels","state","eventTitle","photos","gettingPhotos","getPhotos","setState","fetch","constants","then","response","json","title","reverse","catch","error","console","log","this","addEventListener","reload","setInterval","document","style","map","photo","src","url","alt","href","target","rel","sender","urlType","receivedAt","Date","toLocaleTimeString","timeZone","timeStyle","startsWith","autoPlay","muted","type","slideFromPhoto","React","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cbf953b7.chunk.js","sourcesContent":["export const BASE_URL = 'https://y5gfm8ypt6.execute-api.us-east-1.amazonaws.com/default/weddingPhoto';\n\nexport const SLIDE_SETTINGS = { // https://react-slick.neostack.com/docs/api/\n  autoplay: true,\n  autoplayspeed: 1500,\n  dots: false,\n  infinite: true,\n  pauseOnHover: false,\n  // slidesToScroll: 1,\n  slidesToShow: 3,\n  speed: 5500,\n  swipeToSlide: true\n};\n\nexport const SLIDE_STYLE = {\n  borderRadius: 10,\n  width: '31vw',\n  height: 'auto',\n  maxWidth: '31vw',\n  maxHeight: '78vh',\n  marginTop: '32vh',\n  transform: 'translate3d(0, -39%, 0)'\n};\n\nexport const HEADER_STYLE = {\n  backgroundColor: '#87786B',\n  color: 'white',\n  fontFamily: 'El Messiri',\n  fontSize: '5vh',\n  fontStyle: 'italic',\n  textAlign: 'left',\n  paddingLeft: '3vw',\n  paddingTop: '1vw',\n  width: '100vw',\n  height: '8vh'\n};\n\nexport const TEXT_STYLE = {\n  textAlign: 'center',\n  fontFamily: 'El Messiri',\n  fontSize: '22px',\n  fontStyle: 'italic',\n  color: 'white'\n};\n\nexport const GALLERY_STYLE = {\n  justifyContent: 'center',\n  textAlign: 'center',\n  overflowX: 'auto',\n  marginBottom: '8px'\n};\n\nexport const GALLERY_IMG_STYLE = {\n  marginTop: '3px',\n  maxWidth: '100%',\n  height: 'auto',\n  borderRadius: '2px'\n};\n\nexport const TO_UPLOADER_STYLE = {\n  width: '93%',\n  border: 'none',\n  borderRadius: '23px',\n  fontSize: '2rem',\n  backgroundColor: '#3d7abf',\n  color: '#fff'\n};\n\nexport const TIMEZONES = {\n  est: 'America/New_York',\n  cst: 'America/Chicago',\n  mst: 'US/Arizona',\n  pst: 'America/Los_Angeles',\n  hst: 'Pacific/Honolulu'\n};\n","import React from 'react';\nimport Slider from 'react-slick';\nimport * as constants from './constants';\n\nconst slideFromPhoto = (photo, timezone, labels) => {\n  const url = photo.url,\n    sender = photo.sender,\n    urlType = photo.urlType,\n    receivedAt = new Date(photo.receivedAt)\n      .toLocaleTimeString('en-US', { timeZone: constants.TIMEZONES[timezone], timeStyle: 'short' });\n\n    return (\n      <div key={`div_${url}`}>\n        { labels && \n          <div key={`sender_${sender}`} style={constants.TEXT_STYLE}>\n            {<b>{sender}</b>}{` @ ${receivedAt}`}\n          </div>\n        }\n        { urlType.startsWith('image/') ?\n          <img\n            src={url}\n            key={url}\n            alt={'slide'}\n            style={constants.SLIDE_STYLE}\n          />\n          :\n          <video autoPlay muted style={constants.SLIDE_STYLE}>\n              <source src={url} type={urlType} />\n          </video>\n        }\n      </div>\n    );\n};\n\n\nclass Slides extends React.Component {\n  urlParams = new URLSearchParams(window.location.search);\n\n  refresh = this.urlParams.has('refresh') ? this.urlParams.get('refresh') : 25; // refresh mins\n  occasion = this.urlParams.has('occasion') ? this.urlParams.get('occasion') : null;\n  timezone = this.urlParams.has('tz') ? this.urlParams.get('tz') : 'est';\n  labels = this.urlParams.has('labels') ? this.urlParams.get('labels') === 'time' : false;\n\n  state = {\n    eventTitle: null,\n    photos: null,\n    gettingPhotos: true\n  };\n\n  getPhotos = () => {\n    if (!this.state.gettingPhotos) { this.setState({gettingPhotos: true}) };\n\n    fetch(`${constants.BASE_URL}?occasion=${this.occasion}`)\n      .then(response => response.json())\n      .then(response => this.setState({\n        eventTitle: response.title,\n        photos: response.photos.reverse(), // newest to oldest\n        gettingPhotos: false\n      }))\n      .catch(error => console.log('error >>', error));\n  };\n\n  componentDidMount() {\n    this.getPhotos();\n    window.addEventListener('resize', () => {if (this.urlParams.get('view') !== 'gallery') {window.location.reload(false);}});\n    setInterval(() => this.getPhotos(), this.refresh*60*1000);\n  };\n\n  render() {\n    document.title = this.state.eventTitle ? `${this.state.eventTitle} | Captured.Day` : 'Captured.Day';\n    if (!this.occasion) {\n      return <p>Occasion required. If you need help with this, please contact your event coordinator.</p>\n    }\n    else if (!this.state.photos || this.state.gettingPhotos) {\n      return <p>Getting photos...</p>\n    } else if (this.urlParams.get('view') === 'gallery') {\n      return (\n        <div style={constants.GALLERY_STYLE}>\n          { this.state.photos.map(photo => <img key={photo.url} src={photo.url} alt={'gallery'} style={constants.GALLERY_IMG_STYLE} />) }\n          <br/>\n          <br/>\n          <button href={`https://captured.pics?occasion=${this.occasion}`} target={'_blank'} rel={'noreferrer'} style={constants.TO_UPLOADER_STYLE}>ðŸ‘ˆ Add More ðŸ™‚ðŸ¤³</button>\n          <br/>\n          <br/>\n        </div>\n      );\n    } else {\n      return (\n        <>\n          { this.state.eventTitle &&\n            <h2 style={constants.HEADER_STYLE}>{this.state.eventTitle}</h2>\n          }\n          <Slider {...constants.SLIDE_SETTINGS}>\n            { this.state.photos.map(photo => slideFromPhoto(photo, this.timezone, this.labels)) }\n          </Slider>\n        </>\n      );\n    }; \n  };\n\n};\n\nexport default Slides;\n","import React from 'react';\nimport Slides from './Slideshow';\n\nfunction App() {\n  return <Slides />\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}